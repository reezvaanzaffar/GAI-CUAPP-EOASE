"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/session/route";
exports.ids = ["app/api/auth/session/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsession%2Froute&page=%2Fapi%2Fauth%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsession%2Froute.ts&appDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsession%2Froute&page=%2Fapi%2Fauth%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsession%2Froute.ts&appDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_ecommerce_outset_amazon_seller_ecosystem_7_app_api_auth_session_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/session/route.ts */ \"(rsc)/./app/api/auth/session/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/session/route\",\n        pathname: \"/api/auth/session\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/session/route\"\n    },\n    resolvedPagePath: \"E:\\\\ecommerce-outset---amazon-seller-ecosystem (7)\\\\app\\\\api\\\\auth\\\\session\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_ecommerce_outset_amazon_seller_ecosystem_7_app_api_auth_session_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/session/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGc2Vzc2lvbiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRnNlc3Npb24lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhdXRoJTJGc2Vzc2lvbiUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDZWNvbW1lcmNlLW91dHNldC0tLWFtYXpvbi1zZWxsZXItZWNvc3lzdGVtJTIwKDcpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDZWNvbW1lcmNlLW91dHNldC0tLWFtYXpvbi1zZWxsZXItZWNvc3lzdGVtJTIwKDcpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDcUM7QUFDbEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbWVyY2Utb3V0c2V0Lz8wYjA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXGVjb21tZXJjZS1vdXRzZXQtLS1hbWF6b24tc2VsbGVyLWVjb3N5c3RlbSAoNylcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHNlc3Npb25cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3Nlc3Npb24vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3Nlc3Npb25cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvc2Vzc2lvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXGVjb21tZXJjZS1vdXRzZXQtLS1hbWF6b24tc2VsbGVyLWVjb3N5c3RlbSAoNylcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHNlc3Npb25cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvc2Vzc2lvbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsession%2Froute&page=%2Fapi%2Fauth%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsession%2Froute.ts&appDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/session/route.ts":
/*!***************************************!*\
  !*** ./app/api/auth/session/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   clearAndRegenerateTokensRoute: () => (/* binding */ clearAndRegenerateTokensRoute),\n/* harmony export */   regenerateToken: () => (/* binding */ regenerateToken),\n/* harmony export */   testEndpoint: () => (/* binding */ testEndpoint)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_authOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/authOptions */ \"(rsc)/./lib/authOptions.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\nasync function GET() {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_4__.authOptions);\n        console.log(\"Session retrieved by getServerSession:\", session);\n        if (!session) {\n            console.log(\"No session found, checking cookies...\");\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n            const sessionToken = cookieStore.get(\"session_token\")?.value;\n            console.log(\"Session token from cookies:\", sessionToken);\n            if (sessionToken) {\n                const validatedToken = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.validateToken)(sessionToken);\n                console.log(\"Validated token:\", validatedToken);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No session found\"\n            }, {\n                status: 401\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            user: session.user\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error in /api/auth/session:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to check session\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function testEndpoint() {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_4__.authOptions);\n        console.log(\"Test endpoint - Session retrieved by getServerSession:\", session);\n        return session ? {\n            status: 200,\n            body: session\n        } : {\n            status: 401,\n            body: {\n                error: \"No session found\"\n            }\n        };\n    } catch (error) {\n        console.error(\"Test endpoint - Error in getServerSession:\", error);\n        return {\n            status: 500,\n            body: {\n                error: \"Internal server error\"\n            }\n        };\n    }\n}\nasync function POST() {\n    try {\n        console.log(\"Clearing existing session tokens...\");\n        await prisma.session.deleteMany();\n        console.log(\"All session tokens cleared.\");\n        // Example user for testing\n        const user = {\n            id: \"1\",\n            role: \"ADMIN\"\n        };\n        const token = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.createToken)(user);\n        console.log(\"New token generated:\", token);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Session tokens cleared and new token generated.\",\n            token\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error clearing and regenerating tokens:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to clear and regenerate tokens\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function regenerateToken() {\n    try {\n        console.log(\"Regenerating session tokens for testing...\");\n        // Example user for testing\n        const user = {\n            id: \"1\",\n            role: \"ADMIN\"\n        };\n        const token = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.createToken)(user);\n        console.log(\"New token generated:\", token);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"New token generated.\",\n            token\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error regenerating tokens:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to regenerate tokens\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function clearAndRegenerateTokensRoute() {\n    try {\n        const token = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.clearAndRegenerateTokens)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Session tokens cleared and new token generated.\",\n            token\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error clearing and regenerating tokens:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to clear and regenerate tokens\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RWxCLEVBQUUsT0FBT0QsT0FBTztRQUNkUixRQUFRUSxLQUFLLENBQUMsOEJBQThCQTtRQUM1QyxPQUFPbkIscURBQVlBLENBQUNrQixJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBOEIsR0FDdkM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlVztJQUNwQixJQUFJO1FBQ0YsTUFBTUgsUUFBUSxNQUFNckIsbUVBQXdCQTtRQUM1QyxPQUFPUCxxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7WUFBRVcsU0FBUztZQUFtREQ7UUFBTSxHQUNwRTtZQUFFUixRQUFRO1FBQUk7SUFFbEIsRUFBRSxPQUFPRCxPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQywyQ0FBMkNBO1FBQ3pELE9BQU9uQixxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF3QyxHQUNqRDtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21tZXJjZS1vdXRzZXQvLi9hcHAvYXBpL2F1dGgvc2Vzc2lvbi9yb3V0ZS50cz9hMmFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aE9wdGlvbnMnO1xyXG5pbXBvcnQgeyB2YWxpZGF0ZVRva2VuLCBjcmVhdGVUb2tlbiwgY2xlYXJBbmRSZWdlbmVyYXRlVG9rZW5zIH0gZnJvbSAnQC9saWIvYXV0aCc7XHJcblxyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiByZXRyaWV2ZWQgYnkgZ2V0U2VydmVyU2Vzc2lvbjonLCBzZXNzaW9uKTtcclxuXHJcbiAgICBpZiAoIXNlc3Npb24pIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vIHNlc3Npb24gZm91bmQsIGNoZWNraW5nIGNvb2tpZXMuLi4nKTtcclxuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XHJcbiAgICAgIGNvbnN0IHNlc3Npb25Ub2tlbiA9IGNvb2tpZVN0b3JlLmdldCgnc2Vzc2lvbl90b2tlbicpPy52YWx1ZTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIGZyb20gY29va2llczonLCBzZXNzaW9uVG9rZW4pO1xyXG5cclxuICAgICAgaWYgKHNlc3Npb25Ub2tlbikge1xyXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZFRva2VuID0gdmFsaWRhdGVUb2tlbihzZXNzaW9uVG9rZW4pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdWYWxpZGF0ZWQgdG9rZW46JywgdmFsaWRhdGVkVG9rZW4pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ05vIHNlc3Npb24gZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHVzZXI6IHNlc3Npb24udXNlciB9LFxyXG4gICAgICB7IHN0YXR1czogMjAwIH1cclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIC9hcGkvYXV0aC9zZXNzaW9uOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBjaGVjayBzZXNzaW9uJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGVzdEVuZHBvaW50KCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBjb25zb2xlLmxvZygnVGVzdCBlbmRwb2ludCAtIFNlc3Npb24gcmV0cmlldmVkIGJ5IGdldFNlcnZlclNlc3Npb246Jywgc2Vzc2lvbik7XHJcbiAgICByZXR1cm4gc2Vzc2lvblxyXG4gICAgICA/IHsgc3RhdHVzOiAyMDAsIGJvZHk6IHNlc3Npb24gfVxyXG4gICAgICA6IHsgc3RhdHVzOiA0MDEsIGJvZHk6IHsgZXJyb3I6ICdObyBzZXNzaW9uIGZvdW5kJyB9IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1Rlc3QgZW5kcG9pbnQgLSBFcnJvciBpbiBnZXRTZXJ2ZXJTZXNzaW9uOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN0YXR1czogNTAwLCBib2R5OiB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9IH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGV4aXN0aW5nIHNlc3Npb24gdG9rZW5zLi4uJyk7XHJcbiAgICBhd2FpdCBwcmlzbWEuc2Vzc2lvbi5kZWxldGVNYW55KCk7XHJcbiAgICBjb25zb2xlLmxvZygnQWxsIHNlc3Npb24gdG9rZW5zIGNsZWFyZWQuJyk7XHJcblxyXG4gICAgLy8gRXhhbXBsZSB1c2VyIGZvciB0ZXN0aW5nXHJcbiAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICBpZDogJzEnLFxyXG4gICAgICByb2xlOiAnQURNSU4nLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNyZWF0ZVRva2VuKHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ05ldyB0b2tlbiBnZW5lcmF0ZWQ6JywgdG9rZW4pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnU2Vzc2lvbiB0b2tlbnMgY2xlYXJlZCBhbmQgbmV3IHRva2VuIGdlbmVyYXRlZC4nLCB0b2tlbiB9LFxyXG4gICAgICB7IHN0YXR1czogMjAwIH1cclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIGFuZCByZWdlbmVyYXRpbmcgdG9rZW5zOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBjbGVhciBhbmQgcmVnZW5lcmF0ZSB0b2tlbnMnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdlbmVyYXRlVG9rZW4oKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdSZWdlbmVyYXRpbmcgc2Vzc2lvbiB0b2tlbnMgZm9yIHRlc3RpbmcuLi4nKTtcclxuXHJcbiAgICAvLyBFeGFtcGxlIHVzZXIgZm9yIHRlc3RpbmdcclxuICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgIGlkOiAnMScsXHJcbiAgICAgIHJvbGU6ICdBRE1JTicsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY3JlYXRlVG9rZW4odXNlcik7XHJcbiAgICBjb25zb2xlLmxvZygnTmV3IHRva2VuIGdlbmVyYXRlZDonLCB0b2tlbik7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG1lc3NhZ2U6ICdOZXcgdG9rZW4gZ2VuZXJhdGVkLicsIHRva2VuIH0sXHJcbiAgICAgIHsgc3RhdHVzOiAyMDAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnZW5lcmF0aW5nIHRva2VuczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gcmVnZW5lcmF0ZSB0b2tlbnMnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhckFuZFJlZ2VuZXJhdGVUb2tlbnNSb3V0ZSgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBjbGVhckFuZFJlZ2VuZXJhdGVUb2tlbnMoKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnU2Vzc2lvbiB0b2tlbnMgY2xlYXJlZCBhbmQgbmV3IHRva2VuIGdlbmVyYXRlZC4nLCB0b2tlbiB9LFxyXG4gICAgICB7IHN0YXR1czogMjAwIH1cclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIGFuZCByZWdlbmVyYXRpbmcgdG9rZW5zOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBjbGVhciBhbmQgcmVnZW5lcmF0ZSB0b2tlbnMnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiUHJpc21hQ2xpZW50IiwiY29va2llcyIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInZhbGlkYXRlVG9rZW4iLCJjcmVhdGVUb2tlbiIsImNsZWFyQW5kUmVnZW5lcmF0ZVRva2VucyIsInByaXNtYSIsIkdFVCIsInNlc3Npb24iLCJjb25zb2xlIiwibG9nIiwiY29va2llU3RvcmUiLCJzZXNzaW9uVG9rZW4iLCJnZXQiLCJ2YWx1ZSIsInZhbGlkYXRlZFRva2VuIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwidXNlciIsInRlc3RFbmRwb2ludCIsImJvZHkiLCJQT1NUIiwiZGVsZXRlTWFueSIsImlkIiwicm9sZSIsInRva2VuIiwibWVzc2FnZSIsInJlZ2VuZXJhdGVUb2tlbiIsImNsZWFyQW5kUmVnZW5lcmF0ZVRva2Vuc1JvdXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/session/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* reexport safe */ _authOptions__WEBPACK_IMPORTED_MODULE_1__.authOptions),\n/* harmony export */   clearAndRegenerateTokens: () => (/* binding */ clearAndRegenerateTokens),\n/* harmony export */   createToken: () => (/* binding */ createToken),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getSession: () => (/* binding */ getSession),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated),\n/* harmony export */   requireAdmin: () => (/* binding */ requireAdmin),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   requirePermission: () => (/* binding */ requirePermission),\n/* harmony export */   validateToken: () => (/* binding */ validateToken)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _authOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./authOptions */ \"(rsc)/./lib/authOptions.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_3__.PrismaClient();\n\nasync function getSession() {\n    console.log(\"getSession - Retrieving session using getServerSession\");\n    return await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(_authOptions__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n}\nasync function getCurrentUser() {\n    const session = await getSession();\n    console.log(\"getCurrentUser - Session retrieved:\", session);\n    return session?.user ?? null;\n}\nasync function requireAuth() {\n    const user = await getCurrentUser();\n    if (!user) {\n        console.log(\"requireAuth - Authentication required, no user found\");\n        throw new Error(\"Authentication required\");\n    }\n    return user;\n}\nasync function requireAdmin() {\n    const user = await getCurrentUser();\n    if (!user || user.role !== \"admin\") {\n        console.log(\"requireAdmin - Admin access required, user:\", user);\n        throw new Error(\"Admin access required\");\n    }\n    return user;\n}\nasync function requirePermission(permission) {\n    const user = await getCurrentUser();\n    if (!user || !user.permissions?.includes(permission)) {\n        console.log(`requirePermission - Permission ${permission} required, user:`, user);\n        throw new Error(`Permission ${permission} required`);\n    }\n    return user;\n}\nasync function isAuthenticated() {\n    const user = await getCurrentUser();\n    return !!user;\n}\nasync function isAdmin() {\n    const user = await getCurrentUser();\n    return !!user && user.role === \"admin\";\n}\nasync function hasPermission(permission) {\n    const user = await getCurrentUser();\n    return !!user && !!user.permissions?.includes(permission);\n}\nfunction validateToken(token) {\n    try {\n        console.log(\"Validating token:\", token);\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, process.env.NEXTAUTH_SECRET);\n        console.log(\"Token successfully validated:\", decoded);\n        return decoded;\n    } catch (error) {\n        console.error(\"Error validating token:\", error);\n        return null;\n    }\n}\nasync function createToken(user) {\n    try {\n        console.log(\"Creating token for user:\", user);\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n            id: user.id,\n            role: user.role\n        }, process.env.NEXTAUTH_SECRET, {\n            expiresIn: \"1h\"\n        });\n        console.log(\"Token created:\", token);\n        return token;\n    } catch (error) {\n        console.error(\"Error creating token:\", error);\n        throw error;\n    }\n}\nasync function clearAndRegenerateTokens() {\n    try {\n        console.log(\"Clearing existing session tokens...\");\n        await prisma.session.deleteMany();\n        console.log(\"All session tokens cleared.\");\n        // Example user for testing\n        const user = {\n            id: \"1\",\n            role: \"ADMIN\"\n        };\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n            id: user.id,\n            role: user.role\n        }, process.env.NEXTAUTH_SECRET, {\n            expiresIn: \"1h\"\n        });\n        console.log(\"New token generated:\", token);\n        return token;\n    } catch (error) {\n        console.error(\"Error clearing and regenerating tokens:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSO1FBRUEsTUFBTVMsUUFBUXJCLHdEQUFRLENBQ3BCO1lBQUU4QixJQUFJdEIsS0FBS3NCLEVBQUU7WUFBRWxCLE1BQU1KLEtBQUtJLElBQUk7UUFBQyxHQUMvQlksUUFBUUMsR0FBRyxDQUFDQyxlQUFlLEVBQzNCO1lBQUVLLFdBQVc7UUFBSztRQUVwQjNCLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JnQjtRQUVwQyxPQUFPQTtJQUNULEVBQUUsT0FBT00sT0FBTztRQUNkdkIsUUFBUXVCLEtBQUssQ0FBQywyQ0FBMkNBO1FBQ3pELE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21tZXJjZS1vdXRzZXQvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvbmV4dCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJy4vYXV0aE9wdGlvbnMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbmV4cG9ydCB7IGF1dGhPcHRpb25zIH07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uKCkge1xuICBjb25zb2xlLmxvZygnZ2V0U2Vzc2lvbiAtIFJldHJpZXZpbmcgc2Vzc2lvbiB1c2luZyBnZXRTZXJ2ZXJTZXNzaW9uJyk7XG4gIHJldHVybiBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKCkge1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbigpO1xuICBjb25zb2xlLmxvZygnZ2V0Q3VycmVudFVzZXIgLSBTZXNzaW9uIHJldHJpZXZlZDonLCBzZXNzaW9uKTtcbiAgcmV0dXJuIHNlc3Npb24/LnVzZXIgPz8gbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBdXRoKCkge1xuICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgY29uc29sZS5sb2coJ3JlcXVpcmVBdXRoIC0gQXV0aGVudGljYXRpb24gcmVxdWlyZWQsIG5vIHVzZXIgZm91bmQnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XG4gIH1cbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlQWRtaW4oKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgY29uc29sZS5sb2coJ3JlcXVpcmVBZG1pbiAtIEFkbWluIGFjY2VzcyByZXF1aXJlZCwgdXNlcjonLCB1c2VyKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FkbWluIGFjY2VzcyByZXF1aXJlZCcpO1xuICB9XG4gIHJldHVybiB1c2VyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZVBlcm1pc3Npb24ocGVybWlzc2lvbjogc3RyaW5nKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICBpZiAoIXVzZXIgfHwgIXVzZXIucGVybWlzc2lvbnM/LmluY2x1ZGVzKHBlcm1pc3Npb24pKSB7XG4gICAgY29uc29sZS5sb2coYHJlcXVpcmVQZXJtaXNzaW9uIC0gUGVybWlzc2lvbiAke3Blcm1pc3Npb259IHJlcXVpcmVkLCB1c2VyOmAsIHVzZXIpO1xuICAgIHRocm93IG5ldyBFcnJvcihgUGVybWlzc2lvbiAke3Blcm1pc3Npb259IHJlcXVpcmVkYCk7XG4gIH1cbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICByZXR1cm4gISF1c2VyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNBZG1pbigpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIHJldHVybiAhIXVzZXIgJiYgdXNlci5yb2xlID09PSAnYWRtaW4nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzUGVybWlzc2lvbihwZXJtaXNzaW9uOiBzdHJpbmcpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIHJldHVybiAhIXVzZXIgJiYgISF1c2VyLnBlcm1pc3Npb25zPy5pbmNsdWRlcyhwZXJtaXNzaW9uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW4odG9rZW4pIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGluZyB0b2tlbjonLCB0b2tlbik7XG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCk7XG4gICAgY29uc29sZS5sb2coJ1Rva2VuIHN1Y2Nlc3NmdWxseSB2YWxpZGF0ZWQ6JywgZGVjb2RlZCk7XG4gICAgcmV0dXJuIGRlY29kZWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyB0b2tlbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRva2VuKHVzZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgdG9rZW4gZm9yIHVzZXI6JywgdXNlcik7XG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgIHsgaWQ6IHVzZXIuaWQsIHJvbGU6IHVzZXIucm9sZSB9LFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuICAgICAgeyBleHBpcmVzSW46ICcxaCcgfVxuICAgICk7XG4gICAgY29uc29sZS5sb2coJ1Rva2VuIGNyZWF0ZWQ6JywgdG9rZW4pO1xuICAgIHJldHVybiB0b2tlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB0b2tlbjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQW5kUmVnZW5lcmF0ZVRva2VucygpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgZXhpc3Rpbmcgc2Vzc2lvbiB0b2tlbnMuLi4nKTtcbiAgICBhd2FpdCBwcmlzbWEuc2Vzc2lvbi5kZWxldGVNYW55KCk7XG4gICAgY29uc29sZS5sb2coJ0FsbCBzZXNzaW9uIHRva2VucyBjbGVhcmVkLicpO1xuXG4gICAgLy8gRXhhbXBsZSB1c2VyIGZvciB0ZXN0aW5nXG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgIGlkOiAnMScsXG4gICAgICByb2xlOiAnQURNSU4nLFxuICAgIH07XG5cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAgeyBpZDogdXNlci5pZCwgcm9sZTogdXNlci5yb2xlIH0sXG4gICAgICBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXG4gICAgICB7IGV4cGlyZXNJbjogJzFoJyB9XG4gICAgKTtcbiAgICBjb25zb2xlLmxvZygnTmV3IHRva2VuIGdlbmVyYXRlZDonLCB0b2tlbik7XG5cbiAgICByZXR1cm4gdG9rZW47XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgYW5kIHJlZ2VuZXJhdGluZyB0b2tlbnM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59Il0sIm5hbWVzIjpbImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImp3dCIsIlByaXNtYUNsaWVudCIsInByaXNtYSIsImdldFNlc3Npb24iLCJjb25zb2xlIiwibG9nIiwiZ2V0Q3VycmVudFVzZXIiLCJzZXNzaW9uIiwidXNlciIsInJlcXVpcmVBdXRoIiwiRXJyb3IiLCJyZXF1aXJlQWRtaW4iLCJyb2xlIiwicmVxdWlyZVBlcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwicGVybWlzc2lvbnMiLCJpbmNsdWRlcyIsImlzQXV0aGVudGljYXRlZCIsImlzQWRtaW4iLCJoYXNQZXJtaXNzaW9uIiwidmFsaWRhdGVUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJlcnJvciIsImNyZWF0ZVRva2VuIiwic2lnbiIsImlkIiwiZXhwaXJlc0luIiwiY2xlYXJBbmRSZWdlbmVyYXRlVG9rZW5zIiwiZGVsZXRlTWFueSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/authOptions.ts":
/*!****************************!*\
  !*** ./lib/authOptions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n\nconsole.log(\"NEXTAUTH_SECRET:\", process.env.NEXTAUTH_SECRET);\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                const user = {\n                    id: \"1\",\n                    name: \"Test User\",\n                    email: credentials?.email,\n                    role: \"ADMIN\"\n                };\n                return user;\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            console.log(\"JWT callback invoked. Token before update:\", token);\n            if (user) {\n                token.sub = user.id;\n                token.role = user.role;\n            }\n            console.log(\"JWT callback invoked. Token after update:\", token);\n            return token;\n        },\n        async session ({ session, token }) {\n            console.log(\"Session callback invoked. Token:\", token);\n            if (session.user) {\n                session.user.id = token.sub;\n                session.user.role = token.role;\n            }\n            console.log(\"Session callback invoked. Session:\", session);\n            return session;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aE9wdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0U7QUFHbEVDLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0JDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtBQUVwRCxNQUFNQyxjQUErQjtJQUMxQ0MsV0FBVztRQUNUUCwyRUFBbUJBLENBQUM7WUFDbEJRLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixNQUFNTSxPQUFPO29CQUFFQyxJQUFJO29CQUFLUixNQUFNO29CQUFhRSxPQUFPRCxhQUFhQztvQkFBT08sTUFBTTtnQkFBUTtnQkFDcEYsT0FBT0Y7WUFDVDtRQUNGO0tBQ0Q7SUFDREcsU0FBUztRQUFFQyxVQUFVO0lBQU07SUFDM0JDLFdBQVc7UUFDVCxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRVAsSUFBSSxFQUFFO1lBQ3ZCZCxRQUFRQyxHQUFHLENBQUMsOENBQThDb0I7WUFDMUQsSUFBSVAsTUFBTTtnQkFDUk8sTUFBTUMsR0FBRyxHQUFHUixLQUFLQyxFQUFFO2dCQUNuQk0sTUFBTUwsSUFBSSxHQUFHRixLQUFLRSxJQUFJO1lBQ3hCO1lBQ0FoQixRQUFRQyxHQUFHLENBQUMsNkNBQTZDb0I7WUFDekQsT0FBT0E7UUFDVDtRQUNBLE1BQU1KLFNBQVEsRUFBRUEsT0FBTyxFQUFFSSxLQUFLLEVBQUU7WUFDOUJyQixRQUFRQyxHQUFHLENBQUMsb0NBQW9Db0I7WUFDaEQsSUFBSUosUUFBUUgsSUFBSSxFQUFFO2dCQUNoQkcsUUFBUUgsSUFBSSxDQUFDQyxFQUFFLEdBQUdNLE1BQU1DLEdBQUc7Z0JBQzNCTCxRQUFRSCxJQUFJLENBQUNFLElBQUksR0FBR0ssTUFBTUwsSUFBSTtZQUNoQztZQUNBaEIsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQ2dCO1lBQ2xELE9BQU9BO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbWVyY2Utb3V0c2V0Ly4vbGliL2F1dGhPcHRpb25zLnRzPzkxMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XHJcbmltcG9ydCB0eXBlIHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSAnbmV4dC1hdXRoJztcclxuXHJcbmNvbnNvbGUubG9nKCdORVhUQVVUSF9TRUNSRVQ6JywgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUKTtcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9LFxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICBjb25zdCB1c2VyID0geyBpZDogJzEnLCBuYW1lOiAnVGVzdCBVc2VyJywgZW1haWw6IGNyZWRlbnRpYWxzPy5lbWFpbCwgcm9sZTogJ0FETUlOJyB9O1xyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICB9LFxyXG4gICAgfSksXHJcbiAgXSxcclxuICBzZXNzaW9uOiB7IHN0cmF0ZWd5OiAnand0JyB9LFxyXG4gIGNhbGxiYWNrczoge1xyXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnSldUIGNhbGxiYWNrIGludm9rZWQuIFRva2VuIGJlZm9yZSB1cGRhdGU6JywgdG9rZW4pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHRva2VuLnN1YiA9IHVzZXIuaWQ7XHJcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZygnSldUIGNhbGxiYWNrIGludm9rZWQuIFRva2VuIGFmdGVyIHVwZGF0ZTonLCB0b2tlbik7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBjYWxsYmFjayBpbnZva2VkLiBUb2tlbjonLCB0b2tlbik7XHJcbiAgICAgIGlmIChzZXNzaW9uLnVzZXIpIHtcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5zdWI7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGNhbGxiYWNrIGludm9rZWQuIFNlc3Npb246Jywgc2Vzc2lvbik7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG59OyJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiaWQiLCJyb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJzdWIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/authOptions.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/openid-client","vendor-chunks/next-auth","vendor-chunks/next","vendor-chunks/oauth","vendor-chunks/@babel","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/jws","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsession%2Froute&page=%2Fapi%2Fauth%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsession%2Froute.ts&appDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cecommerce-outset---amazon-seller-ecosystem%20(7)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();